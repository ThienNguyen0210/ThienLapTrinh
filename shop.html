<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dịch vụ tiền tệ Liên Quân</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
    font-family: 'Roboto', sans-serif;
    background: #f5f5f5;
    color: #333;
    padding-top: 64px; /* Để tránh header che nội dung */
}
.glow {
    text-shadow: 0 0 10px #00ffea, 0 0 20px #00ffea, 0 0 30px #00ffea;
}
.card {
    background: white;
    border-radius: 10px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;
    padding: 20px;
    margin: 10px;
    flex: 1 1 calc(33.333% - 20px); /* Điều chỉnh kích thước của card */
}
.card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
}
.button {
    background: linear-gradient(135deg, #00b8d4, #00ffea);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 25px;
    cursor: pointer;
    transition: background 0.3s ease;
    width: 100%;
    max-width: 200px; /* Điều chỉnh kích thước tối đa của nút */
}
.buttons {
    background: red;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 25px;
    cursor: pointer;
    transition: background 0.3s ease;
}
.button:hover {
    background: linear-gradient(135deg, #00ffea, #00b8d4);
}
.banner {
    background: linear-gradient(135deg, #00b8d4, #00ffea);
    color: white;
}
.image {
    width: 100%;
    height: auto;
    max-width: 200px; /* Điều chỉnh kích thước tối đa của ảnh */
}
.scroll-smooth {
    scroll-behavior: smooth;
}
/* Cố định header */
.fixed-header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 1000;
    background: white;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}
/* Form nạp tiền */
.form-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1001;
    display: none;
    justify-content: center;
    align-items: center;
}
.form-container {
    background: white;
    padding: 25px;
    border-radius: 10px;
    width: 90%;
    max-width: 400px;
    position: relative;
}
.close-form {
    position: absolute;
    top: 10px;
    right: 10px;
    cursor: pointer;
    font-size: 20px;
    color: #333;
}

/* Tối ưu hóa cho mobile */
@media (max-width: 768px) {
        .menu {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px;
    }
        .menu a {
        padding: 8px 12px;
        background: #f0f0f0;
        border-radius: 5px;
        text-decoration: none;
    }
    .logo {
        display: none;
    }
    .container {
        padding-left: 1rem;
        padding-right: 1rem;
    }
    .grid-cols-1 {
        grid-template-columns: repeat(1, minmax(0, 1fr));
    }
    .image {
        margin-left: 0;
    }
    .form-container {
        width: 95%;
    }
}
#qrCodeContainer {
    display: none; /* Ẩn ban đầu */
    text-align: center; /* Căn giữa nội dung */
}
#qrCodeImage {
    max-width: 100%; /* Đảm bảo mã QR không vượt quá kích thước container */
    height: auto;
}
#displayAmount, #transferContent {
    margin-top: 10px; /* Khoảng cách giữa mã QR và thông tin */
    font-size: 18px; /* Kích thước chữ */
    font-weight: bold; /* Đậm */
}
.grid-cols-1 {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
}
.card p, .card h3, .card button {
    text-align: center;
    width: 100%;
}
/* CSS cho card "Nạp qua Ngân Hàng" */
.bank-card {
    width: 100%; /* Chiều rộng 100% */
    text-align: center; /* Căn giữa nội dung */
    display: flex;
    flex-direction: column;
    align-items: center; /* Căn giữa theo chiều ngang */
    justify-content: center; /* Căn giữa theo chiều dọc */
}

/* Đảm bảo các phần tử bên trong card được căn giữa */
.bank-card h3,
.bank-card p,
.bank-card ul,
.bank-card button {
    text-align: center; /* Căn giữa văn bản */
    width: 100%; /* Chiều rộng 100% */
}

/* Đảm bảo nút "Tạo Mã" được căn giữa */
.bank-card .button {
    margin: 0 auto; /* Căn giữa nút */
    display: block; /* Đảm bảo nút chiếm toàn bộ chiều rộng */
}

.relative {
    position: relative;
}

.absolute {
    position: absolute;
}

.hidden {
    display: none;
}

.w-64 {
    width: 16rem;
}

.bg-white {
    background-color: white;
}

.rounded-lg {
    border-radius: 0.5rem;
}

.shadow-lg {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

.p-4 {
    padding: 1rem;
}

.hover\:bg-gray-100:hover {
    background-color: #f3f4f6;
}

.text-sm {
    font-size: 0.875rem;
}

.text-xs {
    font-size: 0.75rem;
}

.text-gray-500 {
    color: #6b7280;
}
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');

.glow-text {
    font-family: 'Orbitron', sans-serif;
    font-size: 50px;
    font-weight: bold;
    color: #fff;
    text-align: center;
    text-transform: uppercase;
    text-shadow: 0 0 10px #00f, 0 0 20px #00f, 0 0 30px #00f, 
                 0 0 40px #00f, 0 0 50px #00f, 0 0 60px #00f;
    animation: flicker 1.5s infinite alternate;
}

/* Hiệu ứng nhấp nháy ánh sáng */
@keyframes flicker {
    0% {
        text-shadow: 0 0 5px #00f, 0 0 10px #00f, 0 0 15px #00f;
    }
    100% {
        text-shadow: 0 0 20px #0ff, 0 0 30px #0ff, 0 0 40px #0ff;
    }
}
/* CSS cho form thông báo */
#notificationOverlays {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1001;
    display: none;
    justify-content: center;
    align-items: center;
}

#notificationContents {
    max-height: 400px;
    overflow-y: auto;
    padding: 10px;
    background: #f9f9f9;
    border-radius: 8px;
    border: 1px solid #ddd;
}
#top {
    width: 100%;
    height: 300px;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    text-align: center;
}

.background-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
}

.background-slide {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    background-size: cover;
    background-position: center;
    opacity: 0;
    animation: fadeBackground 9s infinite;
}

/* Animation mờ dần */
@keyframes fadeBackground {
    0% { opacity: 0; }
    10% { opacity: 1; }  /* Ảnh xuất hiện */
    40% { opacity: 1; }  /* Giữ nguyên trong một thời gian */
    60% { opacity: 0; }  /* Bắt đầu mờ dần */
    100% { opacity: 0; }
}

/* Định thời gian xuất hiện của từng ảnh */
.background-slide:nth-child(1) {
    background-image: url(https://play-lh.googleusercontent.com/hDhm0TrQA9W2HN7i1rOHfpT5-5VAwCe-eCgWD23ZJF7tRFDq-ZJSNKIi1kQNpE9yGds=w526-h296-rw);
    animation-delay: 0s;
}

.background-slide:nth-child(2) {
    background-image: url(https://cdn2.fptshop.com.vn/unsafe/Uploads/images/tin-tuc/171656/Originals/2023-12-08_021504.jpg);
    animation-delay: 3s;
}

.background-slide:nth-child(3) {
    background-image: url(https://hoanghamobile.com/tin-tuc/wp-content/uploads/2023/09/hinh-nen-lien-quan.jpg);
    animation-delay: 6s;
}

/* Nội dung chữ luôn hiển thị trên cùng */
.content {
    position: relative;
    z-index: 1;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5); /* Đổ bóng để dễ đọc hơn */
}




/* Đảm bảo nội dung chữ hiển thị đè lên hình nền */
.banner {
    position: relative;
    z-index: 2; /* Đặt nội dung chữ lên trên cùng */
    color: white; /* Màu chữ */
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5); /* Đổ bóng chữ để dễ đọc */
}
body {
    background-image: url(https://png.pngtree.com/thumb_back/fh260/background/20210521/pngtree-pink-simple-watercolor-dream-background-image_717243.jpg);
    background-size: cover; /* Đảm bảo hình nền phủ kín toàn bộ màn hình */
    background-position: center; /* Căn giữa hình nền */
    height: 100vh; /* Đảm bảo body chiếm toàn bộ chiều cao màn hình */
        align-items: center;

}
    </style>



</head>
<body class="scroll-smooth">
    <!-- Header -->
    <header class="fixed-header">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="text-2xl font-bold text-blue-500 glow-text logo">QUANHUYLAU.ONLINE</div>
            <nav class="space-x-6 menu"@>
                <a href="#top" class="text-gray-700 hover:text-blue-500">Trang Chủ</a>
                <a href="#huong-dan" class="text-gray-700 hover:text-blue-500" id="thongbao">Thông báo</a>
                <a href="#nap-tien" class="text-gray-700 hover:text-blue-500">Nạp Tiền</a>
                <span id="username-display" class="text-gray-700"></span>
                <button id="logout-btn" class="text-gray-700 hover:text-blue-500" style=" background: red; border-radius: 8px; padding: 5px">LogOut</button>
            </nav>
        </div>
    </header>
<!-- Form thông báo -->
<div class="form-overlays" id="notificationOverlays">
    <div class="form-container">
        <span class="close-form" id="closeNotificationForms">×</span>
        <h3 class="text-xl font-semibold mb-4">Thông Báo</h3>
        <div id="notificationContents">
            <p>Kính chúc các game thủ có trải nghiệm thật tuyệt</p>
            <p style="color: red">By: Admin</p>
            <p style="color: blue; font-size: 12px">7:32 ngày 15 tháng 2 năm 2025</p>
        </div>
                <div id="notificationContents">
            <p>Cách lấy UID game:</p>
            <p>Bước 1: đăng nhập game liên quân</p>
            <p>Bước 2: bấm vào biểu tượng avt nick</p>
            <p>Bước 3: bấm vào biểu tượng bánh răng nằm trên nickname</p>
            <p>Bước 4: bấm vào chữ UID và sao chép</p>
            <p style="color: blue; font-size: 12px">14:30 ngày 15 tháng 2 năm 2025</p>
        </div>
    </div>
</div>

    <!-- Banner -->
<section id="top">
    <div class="background-container">
        <div class="background-slide"></div>
        <div class="background-slide"></div>
        <div class="background-slide"></div>
    </div>
    <div class="content">
        <h1 class="text-4xl font-bold mb-4">Nạp Quân Huy Liên Quân Giá Rẻ</h1>
        <p class="text-lg">UY TÍN - GIÁ RẺ - CHẤT LƯỢNG</p>
        <p style="color: red;">Trang chủ rửa tiền bằng quân huy hàng đầu Việt Nam</p>
    </div>
</section>


    <!-- Sản Phẩm -->
<section class="container mx-auto px-4 py-12">
    <h2 class="text-3xl font-bold text-center mb-8">Các Gói Quân Huy</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <!-- Danh sách các gói -->
        <div class="card p-6 text-center">
            <h3 class="text-xl font-semibold mb-4">105 Quân Huy</h3>
            <img src="https://napquanhuy.com/upload/setting/unnamed%20(1).png" class="image">
            <p class="text-gray-600 mb-4" data-price="20000">Giá: 20,000 VNĐ</p>
            <button class="button w-full" onclick="openInvoice('105 Quân Huy', 20000)">Mua Ngay</button>
        </div>
        <div class="card p-6 text-center">
            <h3 class="text-xl font-semibold mb-4">262 Quân Huy</h3>
            <img src="https://napquanhuy.com/upload/setting/unnamed%20(1).png" class="image">
            <p class="text-gray-600 mb-4" data-price="50000">Giá: 50,000 VNĐ</p>
            <button class="button w-full" onclick="openInvoice('262 Quân Huy', 50000)">Mua Ngay</button>
        </div>
        <div class="card p-6 text-center">
            <h3 class="text-xl font-semibold mb-4">525 Quân Huy</h3>
            <img src="https://napquanhuy.com/upload/setting/unnamed%20(1).png" class="image">
            <p class="text-gray-600 mb-4" data-price="100000">Giá: 100,000 VNĐ</p>
            <button class="button w-full" onclick="openInvoice('525 Quân Huy', 100000)">Mua Ngay</button>
        </div>
        <div class="card p-6 text-center">
            <h3 class="text-xl font-semibold mb-4">1250 Quân Huy</h3>
            <img src="https://napquanhuy.com/upload/setting/unnamed%20(1).png" class="image">
            <p class="text-gray-600 mb-4" data-price="200000">Giá: 200,000 VNĐ</p>
            <button class="button w-full" onclick="openInvoice('1050 + 100 Quân Huy', 200000)">Mua Ngay</button>
        </div>
        <div class="card p-6 text-center">
            <h3 class="text-xl font-semibold mb-4">2300 Quân Huy</h3>
            <img src="https://napquanhuy.com/upload/setting/unnamed%20(1).png" class="image">
            <p class="text-gray-600 mb-4" data-price="500000">Giá: 500,000 VNĐ</p>
            <button class="button w-full" onclick="openInvoice('2100 + 200 Quân Huy', 500000)">Mua Ngay</button>
        </div>
        <div class="card p-6 text-center">
            <h3 class="text-xl font-semibold mb-4">4500 Quân Huy</h3>
            <img src="https://napquanhuy.com/upload/setting/unnamed%20(1).png" class="image">
            <p class="text-gray-600 mb-4" data-price="1000000">Giá: 1,000,000 VNĐ</p>
            <button class="button w-full" onclick="openInvoice('4200 + 400 Quân Huy', 1000000)">Mua Ngay</button>
        </div>                
    </div>
</section>

<!-- Popup hóa đơn -->
<!-- Popup hóa đơn -->
<div id="invoice-overlay" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
    <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md border border-gray-300 relative">
        <h2 class="text-xl font-semibold text-gray-800 text-center mb-4">Hóa Đơn Thanh Toán</h2>
        <div class="border-b border-gray-300 pb-2 mb-4">
            <p class="text-gray-600"><strong>Tên gói:</strong> <span id="invoice-name" class="text-gray-800"></span></p>
            <div class="flex justify-between items-center mt-2">
                <p class="text-gray-600"><strong>Số lượng:</strong></p>
                <div class="flex items-center space-x-2">
                    <button id="decrease-qty" class="bg-gray-300 text-gray-800 px-3 py-1 rounded">-</button>
                    <span id="quantity" class="text-gray-800 font-semibold">1</span>
                    <button id="increase-qty" class="bg-gray-300 text-gray-800 px-3 py-1 rounded">+</button>
                </div>
            </div>
            <p class="text-gray-600 mt-2"><strong>Giá tiền:</strong> <span id="unit-price" class="text-gray-800"></span></p>
            <p class="text-gray-600 font-semibold mt-2"><strong>Tổng cộng:</strong> <span id="total-price" class="text-red-500"></span></p>
            <p class="text-gray-600 font-semibold mt-2"><strong>Số quân huy nhận được:</strong> <span id="total-quanhuy" class="text-blue-500"></span></p>
            <div class="mt-4">
                <label for="uid" class="block text-gray-700">Nhập UID game:</label>
                <input type="text" id="uid" name="uid" class="form-input mt-1 block w-full" placeholder="Nhập UID game">
            </div>
            <div>
                <button id="close-invoices" class="w-full bg-red-500 text-white py-2 rounded hover:bg-red-600 transition" style="background: green;">Thanh Toán</button>
                <p id="thanhtoan"></p>
            </div>
        </div>
        <button id="close-invoice" class="w-full bg-red-500 text-white py-2 rounded hover:bg-red-600 transition">Đóng</button>
    </div>
</div>

    <!-- Hướng Dẫn -->

    <!-- Nạp Tiền -->
<!-- Form nạp tiền -->
<div class="form-overlay" id="formOverlay">
    <div class="form-container">
        <span class="close-form" id="closeForm">×</span>
        <h3 class="text-xl font-semibold mb-4">Chọn phương thức nạp tiền</h3>
        
        <!-- Nút lựa chọn phương thức -->
        <div class="flex gap-4 mb-6">
            <button id="bankMethod" class="button w-1/2">Ngân Hàng</button>
            <button id="cardMethod" class="button w-1/2">Thẻ Cào<span style="color: red;">(bảo trì)</span></button>
        </div>

        <!-- Form nạp bằng ngân hàng -->
        <div id="bankForm" class="hidden">
            <h3 class="text-xl font-semibold mb-4">Nạp qua Ngân Hàng</h3>
            <input type="number" id="amountInput" class="w-full p-2 rounded border border-gray-300 mb-4" placeholder="Nhập số tiền">
            <p id="errornaptien" style="color: red"></p>
            <button id="generateQR" class="button w-full">Tạo Mã</button>
<div id="qrCodeContainer" class="mt-4 hidden">
    <div class="flex items-center gap-4"> <!-- Thêm Flexbox và khoảng cách giữa các phần tử -->
        <img id="qrCodeImage" src="" alt="QR Code" class="w-48"> <!-- Điều chỉnh kích thước QR Code -->
        <div class="text-left"> <!-- Căn trái nội dung -->
            <h3 id="displayAmount" class="text-lg font-bold">Số tiền: </h3>
            <h3 id="transferContent" class="text-lg font-bold">Nội dung chuyển khoản: </h3>
            <h3>Tên chủ tài khoản: NGUYEN CHI THIEN</h3>
            <p id="countdownTimer" class="text-red-500 font-bold" style="display: none;">Mã sẽ hết hạn trong <span id="countdown">05:00</span></p>
        </div>
</div>
</div>
        <!-- Form nạp bằng thẻ cào -->
        <div id="cardForm" class="hidden">
            <h3 class="text-xl font-semibold mb-4">Nạp qua Thẻ Cào</h3>
            <form id="rechargeForm">
                <div class="mb-4">
                    <label for="network" class="block text-gray-700">Chọn nhà mạng:</label>
                    <select id="network" name="network" class="form-select mt-1 block w-full">
                        <option value="viettel">Viettel</option>
                        <option value="mobifone">Mobifone</option>
                        <option value="vinaphone">Vinaphone</option>
                        <option value="vietnamobile">Vietnamobile</option>
                        <option value="gmobile">Gmobile</option>
                    </select>
                </div>

                <div class="mb-4">
                    <label for="amount" class="block text-gray-700">Chọn mệnh giá:</label>
                    <select id="amount" name="amount" class="form-select mt-1 block w-full">
                        <option value="10000">10,000 VNĐ</option>
                        <option value="20000">20,000 VNĐ</option>
                        <option value="50000">50,000 VNĐ</option>
                        <option value="100000">100,000 VNĐ</option>
                        <option value="200000">200,000 VNĐ</option>
                        <option value="500000">500,000 VNĐ</option>
                    </select>
                </div>

                <div class="mb-4">
                    <label for="serial" class="block text-gray-700">Số seri thẻ:</label>
                    <input type="text" id="serial" name="serial" class="form-input mt-1 block w-full" placeholder="Nhập số seri thẻ">
                </div>

                <div class="mb-4">
                    <label for="code" class="block text-gray-700">Mã thẻ:</label>
                    <input type="text" id="code" name="code" class="form-input mt-1 block w-full" placeholder="Nhập mã thẻ">
                </div>

                <button type="submit" class="buttons">Nạp Thẻ</button>
            </form>
        </div>
    </div>
</div>
<!-- Form thông báo -->
    <script>
document.addEventListener("DOMContentLoaded", function () {
    // Kiểm tra đăng nhập
    const loggedInUser = localStorage.getItem("loggedInUser");
    const users = JSON.parse(localStorage.getItem("users")) || {};

    if (!loggedInUser || !users[loggedInUser]) {
        window.location.href = "index.html"; // Chuyển về trang đăng nhập nếu chưa đăng nhập
    }

    // Cập nhật hiển thị số dư
    const updateBalanceDisplay = () => {
        document.getElementById("username-display").innerHTML = 
            `Tài Khoản: ${loggedInUser} <span style="background: gray; padding: 6px; border-radius: 8px">Ví: ${users[loggedInUser].balance} VNĐ </span>`;
    };

    updateBalanceDisplay(); // Hiển thị số dư ngay khi load trang

    // Xử lý đăng xuất
    const logoutBtn = document.getElementById("logout-btn");
    logoutBtn.addEventListener("click", function () {
        localStorage.removeItem("loggedInUser");
        window.location.href = "index.html";
    });

    // Xử lý mở/đóng form nạp tiền
    const formOverlay = document.getElementById("formOverlay");
    const closeFormBtn = document.getElementById("closeForm");

    // Mở form khi nhấp vào "Nạp Tiền" trên thanh điều hướng
    document.querySelector('a[href="#nap-tien"]').addEventListener("click", function (e) {
        e.preventDefault(); // Ngăn chặn hành vi mặc định của thẻ <a>
        formOverlay.style.display = "flex";
    });

    // Đóng form khi nhấp vào nút đóng
    closeFormBtn.addEventListener("click", function () {
        formOverlay.style.display = "none";
    });

    // Đóng form khi nhấp bên ngoài form
    formOverlay.addEventListener("click", function (e) {
        if (e.target === formOverlay) {
            formOverlay.style.display = "none";
        }
    });

    // Xử lý chọn phương thức nạp tiền
    const bankMethod = document.getElementById("bankMethod");
    const cardMethod = document.getElementById("cardMethod");
    const bankForm = document.getElementById("bankForm");
    const cardForm = document.getElementById("cardForm");

    bankMethod.addEventListener("click", function () {
        bankForm.classList.remove("hidden");
        cardForm.classList.add("hidden");
    });

cardMethod.addEventListener("click", function () {
    console.log("Nút Thẻ Cào được nhấp"); // Debug
    console.log(cardForm); // Kiểm tra xem cardForm có tồn tại không
    cardForm.classList.remove("hidden");
    bankForm.classList.add("hidden");
});

    let countdownInterval = null; // Biến lưu trữ interval của bộ đếm ngược

    // Xử lý tạo mã QR nạp tiền
    document.getElementById("generateQR").addEventListener("click", function () {
        const amount = document.getElementById("amountInput").value;

        // Kiểm tra số tiền hợp lệ và phải từ 5000 VNĐ trở lên
        if (!amount || isNaN(amount) || amount < 5000) {
            const errornaptien = document.getElementById('errornaptien')
            errornaptien.innerHTML = `<p style="color: red">Vui lòng nhập số tiền từ 5000 trở lên</p>`
            return;
        }

        if (countdownInterval) {
            clearInterval(countdownInterval);
        }
        errornaptien.innerHTML = `<p style="color: red"></p>`
        const randomContent = Math.random().toString(36).substring(2, 6).toUpperCase();
        const qrCodeURL = `https://img.vietqr.io/image/970407-5089206015240-compact.png?amount=${amount}&addInfo=${randomContent}&accountName=NGUYEN+CHI+THIEN`;
        document.getElementById("qrCodeImage").src = qrCodeURL;
        document.getElementById("displayAmount").textContent = `Số tiền: ${amount} VNĐ`;
        document.getElementById("transferContent").textContent = `Nội dung chuyển khoản: ${randomContent}`;
        document.getElementById("qrCodeContainer").style.display = "block";

        const countdownTimer = document.getElementById("countdownTimer");
        const countdownDisplay = document.getElementById("countdown");
        countdownTimer.style.display = "block";

        let timeLeft = 300; 
        countdownInterval = setInterval(() => {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            countdownDisplay.textContent = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;

            if (timeLeft <= 0) {
                clearInterval(countdownInterval);
                countdownDisplay.textContent = "00:00";
                alert("Mã QR đã hết hạn!");
                document.getElementById("qrCodeContainer").style.display = "none";
                countdownTimer.style.display = "none";
            } else {
                timeLeft--;
            }
        }, 1000);
    });

    // Xử lý form nạp thẻ cào
    document.getElementById("rechargeForm").addEventListener("submit", function (e) {
        e.preventDefault(); // Ngăn chặn form gửi đi
        alert("Chức năng nạp thẻ cào đang bảo trì!");
    });

    // Xử lý hóa đơn thanh toán
// Xử lý hóa đơn thanh toán
function openInvoice(name, price) {
    document.getElementById("invoice-name").textContent = name;
    document.getElementById("unit-price").textContent = price.toLocaleString() + " VNĐ";
    document.getElementById("total-price").textContent = price.toLocaleString() + " VNĐ";
    document.getElementById("invoice-overlay").classList.remove("hidden");
    
    let quantity = 1;
    document.getElementById("quantity").textContent = quantity;
    
    // Tính toán số quân huy nhận được
    const calculateQuanHuy = () => {
        const quanHuyPerUnit = parseInt(name.split(" ")[0]); // Lấy số quân huy từ tên gói
        const totalQuanHuy = quanHuyPerUnit * quantity;
        document.getElementById("total-quanhuy").textContent = totalQuanHuy;
    };

    calculateQuanHuy(); // Tính toán lần đầu

    document.getElementById("increase-qty").onclick = function () {
        quantity++;
        document.getElementById("quantity").textContent = quantity;
        document.getElementById("total-price").textContent = (price * quantity).toLocaleString() + " VNĐ";
        calculateQuanHuy(); // Tính toán lại số quân huy
    };
    
    document.getElementById("decrease-qty").onclick = function () {
        if (quantity > 1) {
            quantity--;
            document.getElementById("quantity").textContent = quantity;
            document.getElementById("total-price").textContent = (price * quantity).toLocaleString() + " VNĐ";
            calculateQuanHuy(); // Tính toán lại số quân huy
        }
    };

    document.getElementById("close-invoice").onclick = function () {
        document.getElementById("invoice-overlay").classList.add("hidden");
    };

    const closes = document.getElementById('close-invoices');
    const thanhtoan = document.getElementById('thanhtoan');
    let Timeout;
    closes.addEventListener('click', function() {
        const uid = document.getElementById('uid').value;
        if (!uid) {
            thanhtoan.innerHTML = `<span style="color: red">Vui lòng nhập UID game</span>`;
            clearTimeout(Timeout);
            Timeout = setTimeout(function() {
                thanhtoan.innerHTML = ``;
            }, 3000);
            return;
        }

        thanhtoan.innerHTML = `<span style="color: red">Số dư của bạn không đủ để thực hiện cuộc giao dịch này</span>`;
        clearTimeout(Timeout);
        Timeout = setTimeout(function() {
            thanhtoan.innerHTML = ``;
        }, 3000);
    });
}

    // Gán sự kiện cho các nút "Mua Ngay"
    document.querySelectorAll('.card button').forEach(button => {
        button.addEventListener('click', function () {
            const name = this.parentElement.querySelector('h3').textContent;
            const price = parseInt(this.parentElement.querySelector('p').getAttribute('data-price'));
            openInvoice(name, price);
        });
    });
});
// Xử lý mở/đóng form thông báo
const notificationOverlay = document.getElementById("notificationOverlays");
const closeNotificationFormBtn = document.getElementById("closeNotificationForms");

// Mở form thông báo khi nhấp vào "Thông báo" trên thanh điều hướng
document.getElementById("thongbao").addEventListener("click", function (e) {
    e.preventDefault(); // Ngăn chặn hành vi mặc định của thẻ <a>
    notificationOverlay.style.display = "flex";
});

// Đóng form thông báo khi nhấp vào nút đóng
closeNotificationFormBtn.addEventListener("click", function () {
    notificationOverlay.style.display = "none";
});

// Đóng form thông báo khi nhấp bên ngoài form
notificationOverlay.addEventListener("click", function (e) {
    if (e.target === notificationOverlay) {
        notificationOverlay.style.display = "none";
    }
});

 </script>
</body>
</html>
